"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[4586],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>k});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p=r.createContext({}),s=function(e){var n=r.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},u=function(e){var n=s(e.components);return r.createElement(p.Provider,{value:n},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,p=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=s(t),m=a,k=d["".concat(p,".").concat(m)]||d[m]||c[m]||l;return t?r.createElement(k,o(o({ref:n},u),{},{components:t})):r.createElement(k,o({ref:n},u))}));function k(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,o=new Array(l);o[0]=m;var i={};for(var p in n)hasOwnProperty.call(n,p)&&(i[p]=n[p]);i.originalType=e,i[d]="string"==typeof e?e:a,o[1]=i;for(var s=2;s<l;s++)o[s]=t[s];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},5486:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>i,toc:()=>s});var r=t(7462),a=(t(7294),t(3905));const l={title:"Resolvers",date:new Date("2023-11-01T00:00:00.000Z"),author:"lin-xii",tags:["Apollo","GraphQL","\u6e23\u7ffb\u8bd1"],sidebar_position:1},o=void 0,i={unversionedId:"Apollo Server/Resolving Operations/resolvers",id:"Apollo Server/Resolving Operations/resolvers",title:"Resolvers",description:"Apollo Server \u9700\u8981\u77e5\u9053\u5982\u4f55\u4e3a schema \u4e2d\u7684\u6bcf\u4e2a\u5b57\u6bb5\u586b\u5145\u6570\u636e\uff0c\u4ee5\u8ba9\u5b83\u53ef\u4ee5\u54cd\u5e94\u67e5\u8be2\u6570\u636e\u7684\u8bf7\u6c42\u3002\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u4e00\u70b9\uff0c\u5b83\u4f7f\u7528 resolver\u3002",source:"@site/docs/Apollo Server/Resolving Operations/resolvers.md",sourceDirName:"Apollo Server/Resolving Operations",slug:"/Apollo Server/Resolving Operations/resolvers",permalink:"/blog/docs/Apollo Server/Resolving Operations/resolvers",draft:!1,tags:[{label:"Apollo",permalink:"/blog/docs/tags/apollo"},{label:"GraphQL",permalink:"/blog/docs/tags/graph-ql"},{label:"\u6e23\u7ffb\u8bd1",permalink:"/blog/docs/tags/\u6e23\u7ffb\u8bd1"}],version:"current",sidebarPosition:1,frontMatter:{title:"Resolvers",date:"2023-11-01T00:00:00.000Z",author:"lin-xii",tags:["Apollo","GraphQL","\u6e23\u7ffb\u8bd1"],sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Directives",permalink:"/blog/docs/Apollo Server/Defining a Schema/directives"},next:{title:"Context and contextValue",permalink:"/blog/docs/Apollo Server/Resolving Operations/share-context"}},p={},s=[{value:"\u5b9a\u4e49 resolver",id:"\u5b9a\u4e49-resolver",level:2},{value:"\u57fa\u7840\u8bed\u6cd5",id:"\u57fa\u7840\u8bed\u6cd5",level:3},{value:"\u5982\u4f8b\u5b50\u6240\u793a\uff1a",id:"\u5982\u4f8b\u5b50\u6240\u793a",level:4},{value:"\u4f20\u9012\u53c2\u6570",id:"\u4f20\u9012\u53c2\u6570",level:3},{value:"\u5982\u4f8b\u5b50\u6240\u793a\uff1a",id:"\u5982\u4f8b\u5b50\u6240\u793a-1",level:4},{value:"\u5c06 resolver map \u4f20\u9012\u7ed9 Apollo Server",id:"\u5c06-resolver-map-\u4f20\u9012\u7ed9-apollo-server",level:2},{value:"Resolver chain",id:"resolver-chain",level:2},{value:"\u4f8b\u5b50",id:"\u4f8b\u5b50",level:3},{value:"Resolver \u53c2\u6570",id:"resolver-\u53c2\u6570",level:2},{value:"<code>contextValue</code>\u53c2\u6570",id:"contextvalue\u53c2\u6570",level:3},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c",level:2},{value:"Default resolver",id:"default-resolver",level:2},{value:"\u89e3\u6790 union \u548c interface",id:"\u89e3\u6790-union-\u548c-interface",level:2},{value:"\u89e3\u6790 federated entities",id:"\u89e3\u6790-federated-entities",level:2},{value:"\u76d1\u63a7 resolver \u6027\u80fd",id:"\u76d1\u63a7-resolver-\u6027\u80fd",level:2}],u={toc:s},d="wrapper";function c(e){let{components:n,...l}=e;return(0,a.kt)(d,(0,r.Z)({},u,l,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Apollo Server \u9700\u8981\u77e5\u9053\u5982\u4f55\u4e3a schema \u4e2d\u7684\u6bcf\u4e2a\u5b57\u6bb5\u586b\u5145\u6570\u636e\uff0c\u4ee5\u8ba9\u5b83\u53ef\u4ee5\u54cd\u5e94\u67e5\u8be2\u6570\u636e\u7684\u8bf7\u6c42\u3002\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u4e00\u70b9\uff0c\u5b83\u4f7f\u7528 resolver\u3002"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"resolver \u662f\u4e00\u4e2a\u8d1f\u8d23\u7ed9 schema \u4e2d\u5355\u4e2a\u5b57\u6bb5\u586b\u5145\u6570\u636e\u7684\u51fd\u6570\u3002"),"\u5b83\u53ef\u4ee5\u586b\u5145\u4ee5\u4efb\u4f55\u65b9\u5f0f\u5b9a\u4e49\u7684\u6570\u636e\uff0c\u4f8b\u5982\u67e5\u8be2\u540e\u7aef\u6570\u636e\u5e93\u6216\u8005\u7b2c\u4e09\u65b9 API\u3002"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u5982\u679c\u4e0d\u4e3a\u7279\u5b9a\u5b57\u6bb5\u5b9a\u4e49 resolver\uff0cApollo Server \u5c06\u4e3a\u8fd9\u4e2a\u5b57\u6bb5\u5b9a\u4e49\u4e00\u4e2a",(0,a.kt)("a",{parentName:"p",href:"https://www.apollographql.com/docs/apollo-server/data/resolvers#default-resolvers"},"default resolver"),"\u3002")),(0,a.kt)("h2",{id:"\u5b9a\u4e49-resolver"},"\u5b9a\u4e49 resolver"),(0,a.kt)("h3",{id:"\u57fa\u7840\u8bed\u6cd5"},"\u57fa\u7840\u8bed\u6cd5"),(0,a.kt)("p",null,"\u5047\u8bbe\u6211\u4eec\u670d\u52a1\u5668\u5b9a\u4e49\u4e86\u4ee5\u4e0b(\u975e\u5e38\u7b80\u77ed)\u7684 schema\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-graphql"},"type Query {\n  numberSix: Int! # Should always return the number 6 when queried\n  numberSeven: Int! # Should always return 7\n}\n")),(0,a.kt)("p",null,"\u6211\u4eec\u60f3\u8981\u7ed9\u6839",(0,a.kt)("inlineCode",{parentName:"p"},"Query"),"\u7c7b\u578b\u7684",(0,a.kt)("inlineCode",{parentName:"p"},"numberSix"),"\u548c",(0,a.kt)("inlineCode",{parentName:"p"},"numberSeven"),"\u5b57\u6bb5\u5b9a\u4e49 resolver\uff0c\u4ee5\u8ba9\u5b83\u4eec\u5728\u9700\u8981\u7684\u65f6\u5019\uff0c\u6c38\u8fdc\u8fd4\u56de",(0,a.kt)("inlineCode",{parentName:"p"},"6"),"\u548c",(0,a.kt)("inlineCode",{parentName:"p"},"7"),"\u3002"),(0,a.kt)("p",null,"\u8fd9\u4e9b resolver \u7684\u5b9a\u4e49\u5927\u6982\u5982\u4e0b\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"const resolvers = {\n  Query: {\n    numberSix() {\n      return 6;\n    },\n    numberSeven() {\n      return 7;\n    },\n  },\n};\n")),(0,a.kt)("h4",{id:"\u5982\u4f8b\u5b50\u6240\u793a"},"\u5982\u4f8b\u5b50\u6240\u793a\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u670d\u52a1\u5668\u4e0a\u6240\u6709\u7684 resolver \u88ab\u5b9a\u4e49\u5728\u4e00\u4e2a\u5355\u72ec\u7684 JavaScript \u5bf9\u8c61\u4e2d(\u524d\u9762\u793a\u4f8b\u4e2d\u88ab\u547d\u540d\u4e3a",(0,a.kt)("inlineCode",{parentName:"li"},"resolvers"),")\u3002\u8fd9\u4e2a\u5bf9\u8c61\u88ab\u79f0\u4f5c",(0,a.kt)("strong",{parentName:"li"},"resolver map"),"\u3002"),(0,a.kt)("li",{parentName:"ul"},"resolver map \u62e5\u6709\u4e0e schema \u7684\u7c7b\u578b(\u5982\u524d\u9762\u793a\u4f8b\u4e2d\u7684",(0,a.kt)("inlineCode",{parentName:"li"},"Query"),")\u76f8\u5bf9\u5e94\u7684\u9876\u7ea7\u5b57\u6bb5\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u6bcf\u4e00\u4e2a resolver \u51fd\u6570\u90fd\u5c5e\u4e8e\u5bf9\u5e94\u5b57\u6bb5\u6240\u5c5e\u7684\u7c7b\u578b\u3002")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u79c1\u8d27\uff1aresolver \u548c resolver map\uff0c\u4e0d\u662f\u4e00\u4e2a\u6982\u5ff5\u3002"),(0,a.kt)("p",{parentName:"blockquote"},"resolver->field"),(0,a.kt)("p",{parentName:"blockquote"},"resolver map->top-level type(\u66f4\u504f\u5411 schema \u6574\u4f53\u7684\u5c42\u7ea7)")),(0,a.kt)("h3",{id:"\u4f20\u9012\u53c2\u6570"},"\u4f20\u9012\u53c2\u6570"),(0,a.kt)("p",null,"\u5047\u8bbe\u6211\u4eec\u5b9a\u4e49\u4e86\u5982\u4e0b\u7684 schema\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-graphql"},"type User {\n  id: ID!\n  name: String\n}\n\ntype Query {\n  user(id: ID!): User\n}\n")),(0,a.kt)("p",null,"\u6211\u4eec\u5e0c\u671b\u80fd\u591f\u901a\u8fc7 user \u7684",(0,a.kt)("inlineCode",{parentName:"p"},"id"),"\u6765\u67e5\u8be2",(0,a.kt)("inlineCode",{parentName:"p"},"user"),"\u5b57\u6bb5\uff0c\u4ee5\u83b7\u53d6 user \u5bf9\u5e94\u7684\u4fe1\u606f\u3002"),(0,a.kt)("p",null,"\u4e3a\u4e86\u8fbe\u5230\u8fd9\u4e2a\u76ee\u7684\uff0c\u6211\u4eec\u7684\u670d\u52a1\u5668\u9700\u8981\u8bbf\u95ee user \u6570\u636e\u3002\u9488\u5bf9\u8fd9\u4e2a\u8ba4\u4e3a\u7684\u4f8b\u5b50\uff0c\u5047\u8bbe\u6211\u4eec\u7684\u670d\u52a1\u5668\u5b9a\u4e49\u4e86\u5982\u4e0b\u786c\u7f16\u7801\u7684\u6570\u7ec4\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},'const users = [\n  {\n    id: "1",\n    name: "Elizabeth Bennet",\n  },\n  {\n    id: "2",\n    name: "Fitzwilliam Darcy",\n  },\n];\n')),(0,a.kt)("p",null,"\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u7ed9",(0,a.kt)("inlineCode",{parentName:"p"},"user"),"\u5b57\u6bb5\u5b9a\u4e49 resolver\uff0c\u50cf\u4e0b\u9762\u8fd9\u6837\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"const resolvers = {\n  Query: {\n    user(parent, args, contextValue, info) {\n      return users.find((user) => user.id === args.id);\n    },\n  },\n};\n")),(0,a.kt)("h4",{id:"\u5982\u4f8b\u5b50\u6240\u793a-1"},"\u5982\u4f8b\u5b50\u6240\u793a\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"resolver \u53ef\u4ee5\u9009\u62e9\u63a5\u6536\u56db\u4e2a\u53c2\u6570\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},"(parent, args, contextValue, info)")),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"\u66f4\u591a\u7ec6\u8282\uff0c\u53c2\u8003",(0,a.kt)("a",{parentName:"li",href:"https://www.apollographql.com/docs/apollo-server/data/resolvers#resolver-arguments"},"arguments")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"p"},"args"),"\u53c2\u6570\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5b83\u5305\u542b\u4e86\u901a\u8fc7 GraphQL operation \u63d0\u4f9b\u7ed9\u5b57\u6bb5\u7684\u6240\u6709 ",(0,a.kt)("em",{parentName:"p"},"GraphQL")," \u53c2\u6570\u3002"))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff0c\u8fd9\u4e2a\u4f8b\u5b50\u6ca1\u6709\u7ed9",(0,a.kt)("inlineCode",{parentName:"p"},"User"),"\u5b57\u6bb5(",(0,a.kt)("inlineCode",{parentName:"p"},"id"),"\u548c",(0,a.kt)("inlineCode",{parentName:"p"},"name"),")\u5b9a\u4e49 resolver\u3002\u662f\u56e0\u4e3a Apollo Server \u4e3a\u8fd9\u4e9b\u5b57\u6bb5\u521b\u5efa\u7684 ",(0,a.kt)("a",{parentName:"p",href:"https://www.apollographql.com/docs/apollo-server/data/resolvers#default-resolvers"},"default resolver")," \u505a\u4e86\u6b63\u786e\u7684\u4e8b\uff1a\u5b83\u76f4\u63a5\u4ece\u5bf9\u8c61\u83b7\u53d6\u503c\u5e76\u901a\u8fc7",(0,a.kt)("inlineCode",{parentName:"p"},"user"),"resolver \u8fd4\u56de\u3002")),(0,a.kt)("h2",{id:"\u5c06-resolver-map-\u4f20\u9012\u7ed9-apollo-server"},"\u5c06 resolver map \u4f20\u9012\u7ed9 Apollo Server"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u5728\u4e0b\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u9876\u5c42",(0,a.kt)("inlineCode",{parentName:"p"},"await"),"\u6765\u5f02\u6b65\u8d77\u52a8\u6211\u4eec\u7684\u670d\u52a1\u5668\u3002\u5982\u679c\u4f60\u60f3\u4e86\u89e3\u5982\u4f55\u914d\u7f6e\uff0c\u8bf7\u67e5\u770b ",(0,a.kt)("a",{parentName:"p",href:"https://www.apollographql.com/docs/apollo-server/getting-started#step-2-install-dependencies"},"Getting Started")," \u83b7\u53d6\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\u3002")),(0,a.kt)("p",null,"\u5728\u5b9a\u4e49\u4e86\u6240\u6709 resolver \u4e4b\u540e\uff0c\u642d\u914d\u7740 schema \u7684\u5b9a\u4e49(\u4f5c\u4e3a",(0,a.kt)("inlineCode",{parentName:"p"},"typeDefs"),"\u5c5e\u6027)\u4e00\u8d77\uff0c\u5c06\u5b83\u4eec(\u4f5c\u4e3a",(0,a.kt)("inlineCode",{parentName:"p"},"resolvers"),"\u5c5e\u6027)\u4f20\u9012\u7ed9",(0,a.kt)("inlineCode",{parentName:"p"},"Apollo Server"),"\u7684\u6784\u9020\u51fd\u6570\u3002"),(0,a.kt)("p",null,"\u4e0b\u9762\u7684\u4f8b\u5b50\u5b9a\u4e49\u4e86\u786c\u7f16\u7801\u7684\u6570\u636e\u96c6\u3001schema \u548c resolver map\u3002\u5728\u5c06 schema \u548c resolver map \u4f20\u9012\u7ed9",(0,a.kt)("inlineCode",{parentName:"p"},"Apollo Server"),"\u540e\u521d\u59cb\u5316\u4e86\u5b9e\u4f8b\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'import { ApolloServer } from "@apollo/server";\nimport { startStandaloneServer } from "@apollo/server/standalone";\n\n// Hardcoded data store\nconst books = [\n  {\n    title: "The Awakening",\n    author: "Kate Chopin",\n  },\n  {\n    title: "City of Glass",\n    author: "Paul Auster",\n  },\n];\n\n// Schema definition\nconst typeDefs = `#graphql\n  type Book {\n    title: String\n    author: String\n  }\n\n  type Query {\n    books: [Book]\n  }\n`;\n\n// Resolver map\nconst resolvers = {\n  Query: {\n    books() {\n      return books;\n    },\n  },\n};\n\n// Pass schema definition and resolvers to the\n// ApolloServer constructor\nconst server = new ApolloServer({\n  typeDefs,\n  resolvers,\n});\n\n// Launch the server\nconst { url } = await startStandaloneServer(server);\n\nconsole.log(`\ud83d\ude80 Server listening at: ${url}`);\n')),(0,a.kt)("p",null,"\u6ce8\u610f\uff0c\u4f60\u53ef\u4ee5\u5728\u591a\u4e2a\u6587\u4ef6\u548c\u5bf9\u8c61\u4e2d\u5b9a\u4e49 resolver\uff0c\u53ea\u8981\u5c06\u6240\u6709 resolver \u5408\u5e76\u5230\u4e00\u4e2a\u5355\u72ec\u7684\u3001\u88ab\u4f20\u9012\u7ed9",(0,a.kt)("inlineCode",{parentName:"p"},"ApolloServer"),"\u6784\u9020\u51fd\u6570\u7684 resolver map \u5373\u53ef\u3002"),(0,a.kt)("h2",{id:"resolver-chain"},"Resolver chain"),(0,a.kt)("p",null,"\u5f53 query \u8bf7\u6c42\u4e00\u4e2a\u8fd4\u56de\u503c\u4e3a\u5bf9\u8c61\u7c7b\u578b\u7684\u5b57\u6bb5\u65f6\uff0c\u8fd9\u4e2a query \u81f3\u5c11\u4e5f\u8981\u8bbf\u95ee\u8be5\u5bf9\u8c61(\u5982\u679c\u6ca1\u6709\u67e5\u8be2\u8be5\u5bf9\u8c61\u4e2d\u7684\u5b57\u6bb5\uff0c\u6ca1\u6709\u7406\u7531\u5728 query \u4e2d\u5305\u542b\u8fd9\u4e2a\u5bf9\u8c61)\u5b57\u6bb5\u4e2d\u7684\u4e00\u4e2a\u3002\u4e00\u4e2a query \u6700\u5e95\u5c42\u7684\u5b57\u6bb5\uff0c\u6c38\u8fdc\u8fd4\u56de scalar\u3001enum \u6216\u8005\u5b83\u4eec\u7684\u5217\u8868\u3002"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u79c1\u8d27\uff1abottom out\uff0c\u6700\u5e95\u5c42\uff1f\u6211\u597d\u50cf\u660e\u767d\u4e86\uff0c\u4f46\u662f\u5634\u8bf4\u4e0d\u51fa\u6765 \ud83e\udd23")),(0,a.kt)("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\uff0c",(0,a.kt)("inlineCode",{parentName:"p"},"Product"),"\u7c7b\u578b\u7684\u6240\u6709\u5b57\u6bb5\u90fd\u5c5e\u4e8e\u201cbottom out\u201d\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-graphql"},"type Product {\n  id: ID!\n  name: String\n  variants: [String!]\n  availability: Availability!\n}\n\nenum Availability {\n  AVAILABLE\n  DISCONTINUED\n}\n")),(0,a.kt)("p",null,"\u7531\u4e8e\u8fd9\u4e2a\u89c4\u5219\uff0cApollo Server \u89e3\u6790\u4e00\u4e2a\u8fd4\u56de\u503c\u4e3a\u5bf9\u8c61\u7c7b\u578b\u7684\u5b57\u6bb5\u65f6\uff0c\u5b83\u6c38\u8fdc\u4f1a\u89e3\u6790\u8fd9\u4e2a\u5bf9\u8c61\u7684\u4e00\u4e2a\u6216\u66f4\u591a\u5b57\u6bb5\u3002\u90a3\u4e9b\u5b50\u5b57\u6bb5\u6216\u8bb8\u4e5f\u5305\u542b\u5bf9\u8c61\u7c7b\u578b\u3002\u6839\u636e schema\uff0cobject-field \u6a21\u5f0f\u53ef\u4ee5\u6301\u7eed\u5230\u4efb\u610f\u6df1\u5ea6\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u88ab\u79f0\u4e3a ",(0,a.kt)("strong",{parentName:"p"},"resolver chain"),"\u3002"),(0,a.kt)("h3",{id:"\u4f8b\u5b50"},"\u4f8b\u5b50"),(0,a.kt)("p",null,"\u5047\u8bbe\u670d\u52a1\u5668\u5b9a\u4e49\u4e86\u5982\u4e0b\u7684 schema\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-graphql"},"# A library has a branch and books\ntype Library {\n  branch: String!\n  books: [Book!]\n}\n\n# A book has a title and author\ntype Book {\n  title: String!\n  author: Author!\n}\n\n# An author has a name\ntype Author {\n  name: String!\n}\n\ntype Query {\n  libraries: [Library]\n}\n")),(0,a.kt)("p",null,"\u4e0b\u9762\u662f\u4e00\u4e2a\u9488\u5bf9\u8be5 schema \u6709\u6548\u7684 query\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-graphql"},"query GetBooksByLibrary {\n  libraries {\n    books {\n      author {\n        name\n      }\n    }\n  }\n}\n")),(0,a.kt)("p",null,"\u8fd9\u4e2a query \u7684 resolver chain \u67e5\u8be2\u8fc7\u7a0b\uff0c\u7b26\u5408 query \u672c\u8eab\u7684\u5c42\u7ea7\u7ed3\u6784\uff1a\n",(0,a.kt)("img",{alt:"\u8fd9\u662f\u56fe\u7247",src:t(4672).Z,title:"Resolver chain",width:"898",height:"69"})),(0,a.kt)("p",null,"\u8fd9\u4e9b resolver \u6309\u524d\u9762\u6240\u793a\u7684\u987a\u5e8f\u6267\u884c\uff0c\u5e76\u4e14\u5b83\u4eec\u5404\u81ea\u7684\u8fd4\u56de\u503c\u90fd\u4f1a\u901a\u8fc7",(0,a.kt)("inlineCode",{parentName:"p"},"parent"),"\u53c2\u6570\u4f20\u9012\u7ed9\u4e0b\u4e00\u4e2a\u5904\u4e8e resolver chain \u4e2d\u7684 resolver\u3002"),(0,a.kt)("p",null,"\u8fd9\u91cc\u6709\u4e00\u6bb5\u4ee3\u7801\u793a\u4f8b\uff0c\u5b83\u53ef\u4ee5\u7528\u8fd9\u4e2a resolver chain \u89e3\u6790\u524d\u9762\u7684 query\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'import { ApolloServer } from "@apollo/server";\nimport { startStandaloneServer } from "@apollo/server/standalone";\n\nconst libraries = [\n  {\n    branch: "downtown",\n  },\n  {\n    branch: "riverside",\n  },\n];\n\n// The branch field of a book indicates which library has it in stock\nconst books = [\n  {\n    title: "The Awakening",\n    author: "Kate Chopin",\n    branch: "riverside",\n  },\n  {\n    title: "City of Glass",\n    author: "Paul Auster",\n    branch: "downtown",\n  },\n];\n\n// Schema definition\nconst typeDefs = `#graphql\n  # A library has a branch and books\n  type Library {\n    branch: String!\n    books: [Book!]\n  }\n\n  # A book has a title and author\n  type Book {\n    title: String!\n    author: Author!\n  }\n\n  # An author has a name\n  type Author {\n    name: String!\n  }\n\n  # Queries can fetch a list of libraries\n  type Query {\n    libraries: [Library]\n  }\n`;\n\n// Resolver map\nconst resolvers = {\n  Query: {\n    libraries() {\n      // Return our hardcoded array of libraries\n      return libraries;\n    },\n  },\n  Library: {\n    books(parent) {\n      // Filter the hardcoded array of books to only include\n      // books that are located at the correct branch\n      return books.filter((book) => book.branch === parent.branch);\n    },\n  },\n  Book: {\n    // The parent resolver (Library.books) returns an object with the\n    // author\'s name in the "author" field. Return a JSON object containing\n    // the name, because this field expects an object.\n    author(parent) {\n      return {\n        name: parent.author,\n      };\n    },\n  },\n\n  // Because Book.author returns an object with a "name" field,\n  // Apollo Server\'s default resolver for Author.name will work.\n  // We don\'t need to define one.\n};\n\n// Pass schema definition and resolvers to the\n// ApolloServer constructor\nconst server = new ApolloServer({\n  typeDefs,\n  resolvers,\n});\n\n// Launch the server\nconst { url } = await startStandaloneServer(server);\n\nconsole.log(`\ud83d\ude80 Server listening at: ${url}`);\n')),(0,a.kt)("p",null,"\u5982\u679c\u66f4\u65b0 query \u8fd8\u53bb\u67e5\u8be2\u6bcf\u672c book \u7684",(0,a.kt)("inlineCode",{parentName:"p"},"title"),"\u5b57\u6bb5\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-graphql"},"query GetBooksByLibrary {\n  libraries {\n    books {\n      title\n      author {\n        name\n      }\n    }\n  }\n}\n")),(0,a.kt)("p",null,"resolver chain \u770b\u8d77\u6765\u5c31\u662f\u4e0b\u9762\u7684\u6837\u5b50\u4e86\uff1a\n",(0,a.kt)("img",{alt:"\u8fd9\u662f\u56fe\u7247",src:t(1122).Z,title:"Resolver chain",width:"898",height:"180"})),(0,a.kt)("p",null,"\u5f53\u4e00\u4e2a resolver chain \u50cf\u8fd9\u6837\u5206\u53c9\u540e\uff0c\u6bcf\u4e00\u4e2a subchain \u90fd\u53ef\u4ee5\u5e76\u884c\u6267\u884c\u3002"),(0,a.kt)("h2",{id:"resolver-\u53c2\u6570"},"Resolver \u53c2\u6570"),(0,a.kt)("p",null,"resolver \u51fd\u6570\u88ab\u4f20\u9012\u4e86 4 \u79cd\u53c2\u6570\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},"parent"),"\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"args"),"\u3001",(0,a.kt)("inlineCode",{parentName:"p"},"contextValue"),"\u548c",(0,a.kt)("inlineCode",{parentName:"p"},"info"),"(\u6309\u987a\u5e8f\u6392\u5217)\u3002"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u4f60\u53ef\u4ee5\u5728\u4ee3\u7801\u4e2d\u4f7f\u7528\u4efb\u4f55\u540d\u5b57\u6765\u547d\u540d\u8fd9\u4e9b\u53c2\u6570\uff0c\u4f46\u662f Apollo \u6587\u6863\u4f7f\u7528\u8fd9\u4e9b\u540d\u79f0\u4f5c\u4e3a\u60ef\u4f8b\u3002\u4e5f\u5e38\u7528\u7236\u7c7b\u578b\u7684\u540d\u5b57\u6216",(0,a.kt)("inlineCode",{parentName:"p"},"source"),"\u6765\u66ff\u4ee3",(0,a.kt)("inlineCode",{parentName:"p"},"parent"),"\u3002")),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,a.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"parent")),(0,a.kt)("td",{parentName:"tr",align:null},"\u8fd9\u4e2a\u5b57\u6bb5\u7236\u7ea7 resolver \u7684\u8fd4\u56de\u503c(\u4e5f\u5c31\u662f\u6307\uff0c",(0,a.kt)("a",{parentName:"td",href:"https://www.apollographql.com/docs/apollo-server/data/resolvers#resolver-chains"},"resolver chain")," \u4e2d\u7684\u524d\u4e00\u4e2a resolver)\u3002 \u5bf9\u4e8e\u6ca1\u6709\u7236\u7ea7\u7684\u9876\u7ea7\u5b57\u6bb5\u7684 resolver(\u4f8b\u5982",(0,a.kt)("inlineCode",{parentName:"td"},"Query"),"\u7684\u5b57\u6bb5)\uff0c\u8fd9\u4e2a\u503c\u4ece\u4f20\u9012\u7ed9 Apollo Server \u6784\u9020\u51fd\u6570\u7684",(0,a.kt)("inlineCode",{parentName:"td"},"rootValue"),"\u51fd\u6570\u83b7\u53d6\u3002")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"args")),(0,a.kt)("td",{parentName:"tr",align:null},"\u4e00\u4e2a\u5305\u62ec\u63d0\u4f9b\u7ed9\u8fd9\u4e2a\u5b57\u6bb5\u5168\u90e8 GraphQL \u53c2\u6570\u7684\u5bf9\u8c61\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5f53\u6267\u884c",(0,a.kt)("inlineCode",{parentName:"td"},'query{ user(id: "4")}'),"\u65f6\uff0c\u88ab\u4f20\u9012\u7ed9",(0,a.kt)("inlineCode",{parentName:"td"},"user"),"resolver \u7684",(0,a.kt)("inlineCode",{parentName:"td"},"args"),"\u5bf9\u8c61\u662f",(0,a.kt)("inlineCode",{parentName:"td"},'{ "id": "4"}'))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"contextValue")),(0,a.kt)("td",{parentName:"tr",align:null},"\u5728\u4e00\u4e2a operation \u6267\u884c\u7684\u5168\u90e8 resolver \u4e2d\u5171\u4eab\u7684\u5bf9\u8c61\u3002\u4f7f\u7528\u8fd9\u4e2a\u5bf9\u8c61\u5206\u4eab\u7ed9\u6bcf\u4e2a operation \u7684\u72b6\u6001\uff0c\u5305\u62ec\u8ba4\u8bc1\u4fe1\u606f\u3001dataloader \u5b9e\u4f8b\u548c\u4efb\u4f55\u5176\u4ed6\u8de8 resolver \u8bbf\u95ee\u7684\u4fe1\u606f\u3002\u67e5\u770b",(0,a.kt)("a",{parentName:"td",href:"https://www.apollographql.com/docs/apollo-server/data/resolvers#the-contextvalue-argument"},(0,a.kt)("inlineCode",{parentName:"a"},"contextValue")," argument"),"\u4ee5\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\u3002")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"info")),(0,a.kt)("td",{parentName:"tr",align:null},"\u5bb9\u7eb3\u5173\u4e8e operation \u6267\u884c\u72b6\u6001\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u5b57\u6bb5\u540d\u79f0\u3001\u4ece\u6839\u5b57\u6bb5\u5230\u8fd9\u4e2a\u5b57\u6bb5\u7684\u8def\u5f84\u548c\u66f4\u591a\u4fe1\u606f\u3002\u5b83\u7684\u6838\u5fc3\u5b57\u6bb5\u88ab\u5217\u5728",(0,a.kt)("a",{parentName:"td",href:"https://github.com/graphql/graphql-js/blob/f851eba93167b04d6be1373ff27927b16352e202/src/type/definition.ts#L891-L902"},"GraphQL.js \u6e90\u7801"),"\u3002Apollo Server \u4f7f\u7528",(0,a.kt)("inlineCode",{parentName:"td"},"cacheControl"),"\u5b57\u6bb5\u6765\u5b8c\u5584\u5b83\u3002")))),(0,a.kt)("h3",{id:"contextvalue\u53c2\u6570"},(0,a.kt)("inlineCode",{parentName:"h3"},"contextValue"),"\u53c2\u6570"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"resolver \u6c38\u8fdc\u4e0d\u5e94\u8be5\u7834\u574f\u6027\u5730\u4fee\u6539",(0,a.kt)("inlineCode",{parentName:"strong"},"contextValue"),"\u53c2\u6570\u3002"),"\u8fd9\u786e\u4fdd\u4e86\u6240\u6709 resolver \u4e4b\u95f4\u7684\u4e00\u81f4\u6027\u5e76\u9632\u6b62\u975e\u9884\u671f\u9519\u8bef\u7684\u4ea7\u751f\u3002")),(0,a.kt)("p",null,"resolver \u901a\u8fc7\u7b2c\u4e09\u4e2a\u53c2\u6570\u53ef\u4ee5\u8bbf\u95ee\u5171\u4eab\u7684",(0,a.kt)("inlineCode",{parentName:"p"},"contextValue"),"\u5bf9\u8c61\u3002\u4e3a\u6307\u5b9a operation \u6267\u884c\u7684\u6240\u6709 resolver \u90fd\u53ef\u4ee5\u8bbf\u95ee",(0,a.kt)("inlineCode",{parentName:"p"},"contextValue"),"\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},'import { UserAPI } from "./datasources/users";\n\nconst resolvers = {\n  Query: {\n    // Our resolvers can access the fields in contextValue\n    // from their third argument\n    currentUser: (_, __, contextValue) => {\n      return contextValue.dataSources.userApi.findUser(contextValue.token);\n    },\n  },\n};\n\ninterface MyContext {\n  // Context typing\n  token?: String;\n  dataSources: {\n    userApi: UserAPI;\n  };\n}\n\nconst server = new ApolloServer<MyContext>({\n  typeDefs,\n  resolvers,\n});\n\nconst { url } = await startStandaloneServer(server, {\n  context: async ({ req }) => ({\n    token: getToken(req.headers.authentication),\n    dataSources: {\n      userApi: new UserAPI(),\n    },\n  }),\n});\n')),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u4e86\u89e3\u66f4\u591a\u5173\u4e8e\u7ba1\u7406\u8fde\u63a5\u6570\u636e\u5e93\u6216\u5176\u4ed6\u6570\u636e\u6e90\uff0c\u8bf7\u53c2\u8003",(0,a.kt)("a",{parentName:"p",href:"https://www.apollographql.com/docs/apollo-server/data/fetching-data"},"Fetching Data"))),(0,a.kt)("p",null,"\u66f4\u591a\u4fe1\u606f\u548c\u793a\u4f8b\uff0c\u53c2\u8003",(0,a.kt)("a",{parentName:"p",href:"https://www.apollographql.com/docs/apollo-server/data/context"},"Sharing context"),"\u3002"),(0,a.kt)("h2",{id:"\u8fd4\u56de\u503c"},"\u8fd4\u56de\u503c"),(0,a.kt)("p",null,"resolver \u51fd\u6570\u7684\u8fd4\u56de\u503c\uff0c\u6839\u636e\u5b83\u7684\u7c7b\u578b\u88ab Apollo Server \u4ee5\u4e0d\u540c\u65b9\u5f0f\u5904\u7406\u3002"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,a.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"scalar/object"),(0,a.kt)("td",{parentName:"tr",align:null},"resolver \u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u5355\u72ec\u7684\u503c\u6216\u5bf9\u8c61\uff0c\u5c31\u50cf\u5728",(0,a.kt)("a",{parentName:"td",href:"https://www.apollographql.com/docs/apollo-server/data/resolvers#defining-a-resolver"},"Defining a schema"),"\u4e2d\u5c55\u793a\u7684\u4e00\u6837\u3002\u8fd9\u4e2a\u8fd4\u56de\u503c\u901a\u8fc7",(0,a.kt)("inlineCode",{parentName:"td"},"parent"),"\u53c2\u6570\uff0c\u5411\u4e0b\u4f20\u9012\u7ed9\u4efb\u4f55\u5d4c\u5957\u7684 resolver\u3002")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"Array")),(0,a.kt)("td",{parentName:"tr",align:null},"\u5f53\u4e14\u4ec5\u5f53 schema \u4e0e resolver \u5173\u8054\u7684\u5b57\u6bb5\u5305\u542b\u4e00\u4e2a\u5217\u8868\u65f6\uff0c\u624d\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\u3002\u8fd4\u56de\u6570\u7ec4\u540e\uff0cApollo Server \u5bf9\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e00\u9879\u6267\u884c\u5d4c\u5957 resolver\u3002")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"null"),"/",(0,a.kt)("inlineCode",{parentName:"td"},"undefined")),(0,a.kt)("td",{parentName:"tr",align:null},"\u8868\u660e\u8fd9\u4e2a\u5b57\u6bb5\u7684\u503c\u65e0\u6cd5\u88ab\u627e\u5230\u3002\u5982\u679c scheme \u6807\u660e resolver \u7684\u5b57\u6bb5\u53ef\u4ee5\u4e3a null\uff0c\u90a3\u4e48\u8fd9\u4e2a operation \u7684\u7ed3\u679c\uff0c\u5728\u5b57\u6bb5\u7684\u4f4d\u7f6e\u4f1a\u586b\u5145",(0,a.kt)("inlineCode",{parentName:"td"},"null"),"\u4f5c\u4e3a\u8fd4\u56de\u503c\u3002\u5982\u679c resolver \u7684\u5b57\u6bb5\u4e0d\u80fd\u4e3a null\uff0cApollo Server \u8bbe\u7f6e\u5b57\u6bb5\u7684\u7236\u7ea7\u4e3a",(0,a.kt)("inlineCode",{parentName:"td"},"null"),"\u3002\u5982\u6709\u5fc5\u8981\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u6301\u7eed\u5411\u4e0a resolver chain \u77e5\u9053\u5b83\u5230\u8fbe\u4e00\u4e2a\u53ef\u4ee5\u4e3a null \u7684\u5b57\u6bb5\u3002\u8fd9\u786e\u4fdd\u4e86\u8fd4\u56de\u503c\u6c38\u8fdc\u4e0d\u4f1a\u7ed9\u4e00\u4e2a\u4e0d\u80fd\u4e3a null \u7684\u5b57\u6bb5\u8fd4\u56de",(0,a.kt)("inlineCode",{parentName:"td"},"null"),"\u3002\u5f53\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\u65f6\uff0c\u54cd\u5e94\u4e2d\u7684",(0,a.kt)("inlineCode",{parentName:"td"},"errors"),"\u5c5e\u6027\u5c06\u88ab\u586b\u5145\u4e0e\u5b57\u6bb5\u7684\u662f\u5426\u5141\u8bb8\u4e3a null \u76f8\u5173\u7684\u9519\u8bef\u3002")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"Promise")),(0,a.kt)("td",{parentName:"tr",align:null},"resolver \u53ef\u4ee5\u5f02\u6b65\uff0c\u800c\u4e14\u53ef\u4ee5\u6267\u884c\u5f02\u6b65\u64cd\u4f5c\uff0c\u4f8b\u5982\u4ece\u6570\u636e\u5e93\u6216\u540e\u7aef API \u83b7\u53d6\u6570\u636e\u3002\u4e3a\u4e86\u652f\u6301\u8fd9\u4e9b\u80fd\u529b\uff0cresolver \u53ef\u4ee5\u8fd4\u56de promise\uff0c\u8be5 promise \u89e3\u6790\u4e3a\u4efb\u4f55\u5176\u4ed6\u652f\u6301\u7684\u8fd4\u56de\u7c7b\u578b\u3002")))),(0,a.kt)("h2",{id:"default-resolver"},"Default resolver"),(0,a.kt)("p",null,"\u5982\u679c\u4e0d\u4e3a\u6307\u5b9a\u7684 schema \u5b57\u6bb5\u5b9a\u4e49 resolver\uff0cApollo Server \u4f1a\u7ed9\u5b83\u5b9a\u4e49\u4e00\u4e2a default resolver\u3002"),(0,a.kt)("p",null,"default resolver \u51fd\u6570\u7684\u8c03\u7528\u903b\u8f91\u5982\u4e0b\uff1a\n",(0,a.kt)("img",{alt:"\u56fe\u7247",src:t(3234).Z,title:"Default resolver",width:"758",height:"386"})),(0,a.kt)("p",null,"\u4f5c\u4e3a\u4e00\u4e2a\u4f8b\u5b50\uff0c\u601d\u8003\u4e0b\u9762 schema \u7247\u6bb5\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-graphql"},"type Book {\n  title: String\n}\n\ntype Author {\n  books: [Book]\n}\n")),(0,a.kt)("p",null,"\u5982\u679c",(0,a.kt)("inlineCode",{parentName:"p"},"books"),"\u5b57\u6bb5\u7684 resolver \u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u7684\u6570\u7ec4\uff0c\u6bcf\u4e2a\u5bf9\u8c61\u5305\u542b",(0,a.kt)("inlineCode",{parentName:"p"},"title"),"\u5b57\u6bb5\uff0c\u4f60\u53ef\u4ee5\u5bf9",(0,a.kt)("inlineCode",{parentName:"p"},"title"),"\u5b57\u6bb5\u4f7f\u7528 default resolver\u3002default resolver \u5c06\u6b63\u786e\u8fd4\u56de",(0,a.kt)("inlineCode",{parentName:"p"},"parent.title"),"\u3002"),(0,a.kt)("h2",{id:"\u89e3\u6790-union-\u548c-interface"},"\u89e3\u6790 union \u548c interface"),(0,a.kt)("p",null,"\u8fd9\u4e9b GraphQL \u7c7b\u578b\u5141\u8bb8\u53bb\u5b9a\u4e49\u4e00\u4e2a\u8fd4\u56de\u591a\u79cd\u53ef\u80fd\u5bf9\u8c61\u7c7b\u578b\u4e2d\u4e00\u79cd\u7684\u5b57\u6bb5\u3002\u4e3a\u4e86\u89e3\u6790\u53ef\u4ee5\u8fd4\u56de\u4e0d\u540c\u5bf9\u8c61\u7c7b\u578b\u7684\u5b57\u6bb5\uff0c\u5fc5\u987b\u5b9a\u4e49",(0,a.kt)("inlineCode",{parentName:"p"},"__resolveType"),"\u51fd\u6570\u53bb\u544a\u77e5 Apollo Server \u54ea\u4e2a\u5bf9\u8c61\u7684\u7c7b\u578b\u5c06\u88ab\u8fd4\u56de\u3002"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u53c2\u8003",(0,a.kt)("a",{parentName:"p",href:"https://www.apollographql.com/docs/apollo-server/schema/unions-interfaces/#resolving-a-union"},(0,a.kt)("inlineCode",{parentName:"a"},"__resolveType"),"\u51fd\u6570\u7684\u4f8b\u5b50"))),(0,a.kt)("h2",{id:"\u89e3\u6790-federated-entities"},"\u89e3\u6790 federated entities"),(0,a.kt)("p",null,"\u53c2\u8003",(0,a.kt)("a",{parentName:"p",href:"https://www.apollographql.com/docs/federation/entities/#resolving-entities"},"Resolvering Entities")),(0,a.kt)("h2",{id:"\u76d1\u63a7-resolver-\u6027\u80fd"},"\u76d1\u63a7 resolver \u6027\u80fd"),(0,a.kt)("p",null,"\u4e0e\u6240\u6709\u4ee3\u7801\u4e00\u6837\uff0cresolver \u7684\u6027\u80fd\u53d6\u51b3\u4e8e\u5b83\u7684\u903b\u8f91\u3002\u6700\u91cd\u8981\u7684\u662f\u7406\u89e3\u54ea\u4e9b schema \u5b57\u6bb5\u662f\u8ba1\u7b97\u6210\u672c\u9ad8\u6216\u89e3\u6790\u7f13\u6162\uff0c\u8fd9\u6837\u624d\u80fd\u63d0\u5347\u5b83\u4eec\u7684\u6027\u80fd\u6216\u786e\u4fdd\u53ea\u5728\u5fc5\u8981\u7684\u65f6\u5019\u67e5\u8be2\u8fd9\u4e9b\u5b57\u6bb5\u3002"),(0,a.kt)("p",null,"Apollo Studio \u76f4\u63a5\u96c6\u6210 Apollo Server\uff0c\u4ee5\u63d0\u4f9b\u9876\u5c42\u5b57\u6bb5\u7684\u76d1\u63a7\u6307\u6807\uff0c\u8fd9\u53ef\u4ee5\u5e2e\u52a9\u53ca\u65f6\u4e86\u89e3 graph \u7684\u6027\u80fd\u3002\u66f4\u591a\u4fe1\u606f\uff0c\u53c2\u8003",(0,a.kt)("a",{parentName:"p",href:"https://www.apollographql.com/docs/studio/performance/"},"Analyzing performance")))}c.isMDXComponent=!0},3234:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/default-resolver-c8e7966195930d53e3181c5ff9970658.png"},4672:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/resolver-chain-6a3813dbfe3ae7b136cfb4620fa617a9.png"},1122:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/resolver-chain2-a440170802a03d792424251e2cfc25bd.png"}}]);