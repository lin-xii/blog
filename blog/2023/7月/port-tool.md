---
title: å‡ ç§éªŒè¯ç«¯å£å¼€å¯çš„æ–¹æ³•
authors: lin-xii
date: 2023-07-25
tags: [ç«¯å£, å·¥å…·]
---

macOS ä¸‹, éªŒè¯æœåŠ¡å™¨ç«¯å£æ˜¯å¦è¿é€šçš„æ–¹æ³•

- [telnet](#telnet)
- [nc](<#netcat(nc)>)
- [nmap](#nmap)

**tip: æ‰«æç«¯å£æ—¶ï¼Œéœ€è¦æ³¨æ„ä¸è¦è¿åç½‘ç»œå®‰å…¨è§„å®šï¼Œé¿å…å¯¹ä»–äººçš„ç½‘ç»œé€ æˆä¸å¿…è¦çš„å¹²æ‰°å’ŒæŸå®³ã€‚**

<!-- truncate -->

## èƒŒæ™¯

ç½‘ç»œç›¸å…³çš„è®°å¿†, éƒ½å°±ç€é¥­åƒåˆ°è‚šå­é‡Œäº† ğŸ™„

ä»Šå¤©éœ€è¦éªŒè¯æœåŠ¡å™¨ç«¯å£æ˜¯å¦å¯ä»¥è¿é€š, æ‰¾åˆ°äº†å‡ ç§æ–¹æ³•, ç®€å•è®°å½•ä¸€ä¸‹

## telnet

> `telnet` å‘½ä»¤æ˜¯ä¸€ä¸ªç”¨äºæµ‹è¯•ç½‘ç»œè¿æ¥çš„å·¥å…·ï¼Œå¯ä»¥æ¨¡æ‹Ÿå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥ï¼Œä»¥æ£€æŸ¥æœåŠ¡å™¨ç«¯å£æ˜¯å¦å¯ä»¥æ­£å¸¸è¿æ¥ã€‚`telnet` å‘½ä»¤æœ€åˆæ˜¯ç”±ç¾å›½è®¡ç®—æœºç§‘å­¦å®¶ Simon S. Lam å¼€å‘çš„ï¼Œç”¨äºåœ¨ UNIX ç³»ç»Ÿä¸Šæµ‹è¯•ç½‘ç»œè¿æ¥ã€‚åæ¥ï¼Œ`telnet` å‘½ä»¤è¢«å¹¿æ³›åº”ç”¨äºå„ç§æ“ä½œç³»ç»Ÿå’Œç½‘ç»œè®¾å¤‡ä¸­ï¼Œæˆä¸ºäº†ä¸€ç§é€šç”¨çš„ç½‘ç»œæµ‹è¯•å·¥å…·ã€‚
>
> `telnet` å‘½ä»¤å¯ä»¥é€šè¿‡ç»ˆç«¯æˆ–å‘½ä»¤è¡Œç•Œé¢ä½¿ç”¨ï¼Œå¯ä»¥è¿æ¥åˆ°ä»»ä½•æ”¯æŒ TCP æˆ– UDP åè®®çš„æœåŠ¡å™¨ï¼Œä»¥æµ‹è¯•æœåŠ¡å™¨ç«¯å£æ˜¯å¦å¯ä»¥æ­£å¸¸è¿æ¥ã€‚`telnet` å‘½ä»¤å¯ä»¥æ¨¡æ‹Ÿå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥ï¼Œå¯ä»¥å‘é€å’Œæ¥æ”¶æ•°æ®ï¼Œä»¥æ£€æŸ¥æœåŠ¡å™¨çš„å“åº”æ˜¯å¦æ­£å¸¸ã€‚`telnet` å‘½ä»¤é€šå¸¸ç”¨äºæµ‹è¯• Web æœåŠ¡å™¨ã€é‚®ä»¶æœåŠ¡å™¨ã€FTP æœåŠ¡å™¨ç­‰ç­‰ï¼Œä»¥ç¡®ä¿è¿™äº›æœåŠ¡å™¨å¯ä»¥æ­£å¸¸å·¥ä½œã€‚

### å®‰è£…

#### macOS M1

```shell
brew install telnet
```

### ä½¿ç”¨

1. æ‰“å¼€ terminal
2. è¾“å…¥å‘½ä»¤`telnet server port`. Eg: ` telnet localhost 5910`
3. æ•²å›è½¦
4. å¦‚æœå‡ºç°ä¸‹æ–¹æ ¼å¼çš„å†…å®¹, è¯æ˜ç›¸åº”çš„æœåŠ¡ã€ç«¯å£å¯ä»¥è¿é€š

```shell
Trying ::1...
Connected to localhost.
Escape character is '^]'.
```

5. æŒ‰ä¸‹`ctrl + ]`, å†è¾“å…¥`quit`, å›è½¦. å³å¯é€€å‡º telnet å‘½ä»¤

## netcat(nc)

> `nc` å‘½ä»¤æ˜¯ä¸€ä¸ªç”¨äºæµ‹è¯•ç½‘ç»œè¿æ¥çš„å·¥å…·ï¼Œä¹Ÿç§°ä¸º netcatã€‚å®ƒå¯ä»¥ç”¨äºåˆ›å»º TCP æˆ– UDP è¿æ¥ï¼Œå‘é€å’Œæ¥æ”¶æ•°æ®ï¼Œä»¥åŠç›‘å¬ç«¯å£ç­‰æ“ä½œã€‚`nc` å‘½ä»¤æœ€åˆæ˜¯ç”±å¼€å‘è€… _Hobbit_ å¼€å‘çš„ï¼Œåæ¥è¢«å…¶ä»–å¼€å‘è€…ç»´æŠ¤å’Œæ‰©å±•ï¼Œæˆä¸ºäº†ä¸€ä¸ªé€šç”¨çš„ç½‘ç»œå·¥å…·ã€‚
>
> `nc` å‘½ä»¤æ˜¯å¼€æºçš„ï¼Œå¯ä»¥åœ¨ GitHub ä¸Šæ‰¾åˆ°ç›¸å…³çš„æºä»£ç ã€‚`nc` å‘½ä»¤çš„æºä»£ç æ‰˜ç®¡åœ¨å¤šä¸ªä»“åº“ä¸­ï¼Œå…¶ä¸­ä¸€äº›ä»“åº“åŒ…å«äº†ä¸åŒç‰ˆæœ¬çš„ `nc` å‘½ä»¤å®ç°

### å®‰è£…

macOS 13.4 è‡ªå¸¦ nc, æ— éœ€å®‰è£…

### ä½¿ç”¨

1. æ‰“å¼€ terminal
2. è¾“å…¥`nc -zv localhost 5910`, æ•²å›è½¦
3. å¦‚æœå‡ºç°å¦‚ä¸‹æ ¼å¼çš„ä¿¡æ¯, è¯æ˜è¿æ¥æˆåŠŸ

```shell
Connection to localhost port 5910 [tcp/*] succeeded!
```

4. å¦‚æœå‡ºç°å¦‚ä¸‹æ ¼å¼çš„ä¿¡æ¯, åˆ™è¿æ¥å¤±è´¥

```shell
nc: connectx to localhost port 5911 (tcp) failed: Connection refused
```

### å¸¸ç”¨å‚æ•°

> `-zv` å‚æ•°è¡¨ç¤ºåœ¨æ‰«æç«¯å£æ—¶ï¼Œä¸å‘é€æ•°æ®ï¼Œåªæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ã€‚`-z` å‚æ•°è¡¨ç¤ºåªæ‰«æç«¯å£ï¼Œä¸å‘é€æ•°æ®ï¼Œ`-v` å‚æ•°è¡¨ç¤ºæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ã€‚å› æ­¤ï¼Œ`-zv` å‚æ•°çš„å«ä¹‰æ˜¯åªæ‰«æç«¯å£ï¼Œå¹¶æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼Œä½†ä¸å‘é€æ•°æ®ã€‚è¿™ä¸ªå‚æ•°é€šå¸¸ç”¨äºå¿«é€Ÿæ£€æŸ¥æœåŠ¡å™¨ç«¯å£æ˜¯å¦å¼€å¯ã€‚

- `-l`ï¼šç›‘å¬æ¨¡å¼ï¼Œç”¨äºåœ¨æŒ‡å®šç«¯å£ä¸Šç›‘å¬è¿æ¥è¯·æ±‚ã€‚
- `-p`ï¼šæŒ‡å®šç«¯å£å·ã€‚
- `-u`ï¼šä½¿ç”¨ UDP åè®®ã€‚
- `-w`ï¼šè®¾ç½®è¶…æ—¶æ—¶é—´ã€‚
- `-z`ï¼šåªæ‰«æç«¯å£ï¼Œä¸å‘é€æ•°æ®ã€‚
- `-v`ï¼šæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ã€‚

## nmap

> `nmap` å‘½ä»¤æ˜¯ä¸€ä¸ªç”¨äºç½‘ç»œæ¢æµ‹å’Œå®‰å…¨å®¡è®¡çš„å·¥å…·ï¼Œå¯ä»¥ç”¨äºæ‰«æä¸»æœºå’Œç«¯å£ï¼Œè¯†åˆ«æ“ä½œç³»ç»Ÿå’ŒæœåŠ¡ç­‰ã€‚`nmap` å‘½ä»¤æœ€åˆæ˜¯ç”±å¼€å‘è€… Fyodorï¼ˆGordon Lyonï¼‰å¼€å‘çš„ï¼Œåæ¥è¢«å…¶ä»–å¼€å‘è€…ç»´æŠ¤å’Œæ‰©å±•ï¼Œæˆä¸ºäº†ä¸€ä¸ªé€šç”¨çš„ç½‘ç»œå·¥å…·ã€‚
>
> `nmap` å‘½ä»¤æ˜¯å¼€æºçš„ï¼Œæ‚¨å¯ä»¥åœ¨ GitHub ä¸Šæ‰¾åˆ°ç›¸å…³çš„æºä»£ç ã€‚`nmap` å‘½ä»¤çš„æºä»£ç æ‰˜ç®¡åœ¨å®˜æ–¹çš„ Git ä»“åº“ä¸­ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹é“¾æ¥è®¿é—®ï¼š
>
> - [https://github.com/nmap/nmap](vscode-file://vscode-app/Applications/Visual Studio Code - Insiders.app/Contents/Resources/app/out/vs/code/electron-sandbox/workbench/workbench.html)

### å®‰è£…

#### macOS M1

```shell
brew install nmap
```

### ä½¿ç”¨

#### æ‰«æå¸¸ç”¨ç«¯å£

1. æ‰“å¼€ terminal
2. è¾“å…¥`nmap localhost`, æ•²å›è½¦
3. æ˜¾ç¤ºç»“æœ(é»˜è®¤åªæ‰«æå¸¸ç”¨çš„ 1000 ä¸ªç«¯å£)

```shell
Starting Nmap 7.94 ( https://nmap.org ) at 2023-07-19 11:04 CST
Nmap scan report for localhost (127.0.0.1)
Host is up (0.000047s latency).
Other addresses for localhost (not scanned): ::1
Not shown: 995 closed tcp ports (conn-refused)
PORT     STATE SERVICE
5910/tcp open  cm
8080/tcp open  http-proxy

Nmap done: 1 IP address (1 host up) scanned in 0.04 seconds
```

#### æ‰«ææŒ‡å®šç«¯å£

1. æ‰“å¼€ terminal
2. è¾“å…¥`nmap -p 5910 localhost`, æ•²å›è½¦
3. æ˜¾ç¤ºç»“æœ

```shell
Starting Nmap 7.94 ( https://nmap.org ) at 2023-07-19 11:18 CST
Nmap scan report for localhost (127.0.0.1)
Host is up (0.00023s latency).
Other addresses for localhost (not scanned): ::1

PORT     STATE SERVICE
5910/tcp open  cm

Nmap done: 1 IP address (1 host up) scanned in 0.02 seconds
```
